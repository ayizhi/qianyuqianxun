"use strict";$(function(){function a(a){return e.test(a)}function b(a){return f.test(a)}var c=getValueFromSearch("back"),d=Z,e=/^1\d{10}$/,f=/^\d{6}$/,g=d("#mobileInput"),h=d("#captchaInput"),i=d("#getCaptcha"),j=d("#submit"),k=!1;i.on("click",function(){if(!k){var b=trim(g.val());if(!a(b))return void g.addClass("warning").focus();k=!0,d.ajax({url:window.actionUrl.getCaptcha.url,type:window.actionUrl.getCaptcha.type,data:d.extend(getCommonReqData(),{mobile:b}),success:function(a){function b(){0==d?(i.removeClass("counting").addClass("normal").html("获取验证码"),k=!1,clearInterval(c)):(i.html(d+"s后重试"),d--)}if(a=checkReply(a))if(0==a.status){var c,d=60;i.removeClass("normal").addClass("counting"),b(),c=setInterval(b,1e3)}else alert("验证码发送失败，请重试"),k=!1},error:function(a){alert("验证码发送失败，请重试"),k=!1}})}});var l=!1;j.on("click",function(){if(!l){var e=trim(g.val());if(!a(e))return void g.val("").addClass("warning").focus();g.removeClass("warning");var f=trim(h.val());if(!b(f))return void h.val("").addClass("warning").focus();h.removeClass("warning"),l=!0,j.html("验证中.."),d.ajax({url:window.actionUrl.verifyMobile.url,type:window.actionUrl.verifyMobile.type,data:d.extend(getCommonReqData(),{moblie:e,captcha:f}),success:function(a){return(a=checkReply(a))?void(0==a.status?(alert("手机号:"+e+"验证成功"),c?window.location.href=c:window.history.length?window.history.go(-1):window.location.href="myPage.html"+getCommonParams()):alert("验证失败，请重试")):void h.val("")},error:function(a){alert("网络异常，请重试")},complete:function(){j.html("验证手机"),l=!1}})}})});
//# sourceMappingURL=mobileVerify.js.map