"use strict";Z(function(){function a(a){window.location.href="guestInfo.html"+getCommonParams()+"&actId="+encodeURIComponent(c)+"&actToken="+d+"&sex="+encodeURIComponent(a.sex)+"&num="+encodeURIComponent(a.guestNumber)}function b(b){if(!l){l=!0;var c,d=Math.ceil(1.75*window.fontSize),e=b.pairs||b.females.length,f="?"+qnImg.base()+qnImg.and+qnImg.min(d*window.dpi,d*window.dpi);for(c=0;e>c;c++)b.females[c].headImg+=f,b.males[c].headImg+=f;var h=function(a,b){return a.guestNumber-b.guestNumber};b.females.sort(h),b.males.sort(h),j=new LinkMap(Z("#desk")[0],{deltaY:-30,pairs:e,defaultFemaleHead:window.imgUrl.femaleHead,defaultMaleHead:window.imgUrl.maleHead,topPadding:Math.ceil(.3*window.fontSize),headSize:d,thickness:Math.ceil(.1*window.fontSize),neckDefaultColor:"#fff",deskHeight:Math.ceil(5.4*window.fontSize),deskMarginTop:Math.ceil(.2*window.fontSize),dotSize:Math.ceil(.2*window.fontSize),dotGapDesk:Math.ceil(.2*window.fontSize),deskRadius:Math.ceil(.25*window.fontSize),deskColor:"#F0EFF5",dotDefaultColor:"#E2D0C4",linkColor:"#EA4C89",lineWidth:1,topIs:"f",disorder:!1,females:b.females,males:b.males,showGuest:!0,textSize:Math.floor(.3*window.fontSize),femaleTextColor:"#fff",femaleTextBg:"#F641BF",maleTextColor:"#fff",maleTextBg:"#0092F4",canLink:function(){return!1},onClick:function(b){a(b[0])}});var i;for(c=0;c<b.pairs;c++)for(i in g)b.males[c].guestNumber==i&&j.link(i,g[i])}}var c=getValueFromSearch("actId"),d=getValueFromSearch("actToken"),e=getValueFromSearch("uHead"),f=getValueFromSearch("uName"),g=getValueFromSearch("map"),h={1:2,2:3,3:4,4:5,5:1};if(g)try{g=JSON.parse(g)}catch(i){g=h}else g=h;var j,k=Z("#cardDom");replaceImgSrc(k),k.find("#uName").html(f),k.find(".top .bgCon").each(function(){lazyLoadImg(e,this)});var l=!1;Z.ajax({url:window.actionUrl.getActDetail.url,type:window.actionUrl.getActDetail.type,data:Z.extend({actId:c,actToken:d},getCommonReqData()),success:function(a){if(a=checkReply(a)){var c=a;linkMapReady(function(){b(c)})}},error:function(a){noNetwork()}});var m="actDetail.html"+getCommonParams()+"&actId="+encodeURIComponent(c)+"&actToken="+encodeURIComponent(d);makeqr(Z("#qrCon")[0],m,window.imgUrl.logo),Z(".share").on("click",function(){shareGuide("邀请好友挑战")}),Z(".footer").on("click",".back",function(){window.location.href="actDetail.html"+getCommonParams()+"&actId="+encodeURIComponent(c)+"&actToken="+encodeURIComponent(d)}).on("click",".invite",function(){shareGuide("邀请好友挑战")})});
//# sourceMappingURL=linkerCard.js.map